#include <stdio.h>
#include <stdlib.h>
#include "parser.h"


/*Parte de acci칩n de la "Parsing Table"*/
const char ACTION [][11] =
{
    /*  0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1
    }, //q0

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,30
    }, //q1

    /*  0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        5,-1,-1,-1,-1,-1,-1,-1,-1,-1,32
    }, //q2
    
    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,-1,-1,-1, 7,-1,-1,-1,-1,-1
    }, //q3

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,-1,-1,-1,34, 8,-1,-1,-1,-1
    }, //q4

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1, 9,-1,-1,-1,-1,-1,-1,-1,-1,-1
    }, //q5

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,31
    }, //q6

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        33,33,33,33,33,33,33,33,33,33,33
    },//q7
    
    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,21,-1,14,-1,-1,13,-1,-1,-1
    }, //q8

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,-1,-1,-1,36,36,-1,-1,-1,-1
    }, //q9

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,15,-1,-1,35,-1,-1,-1,-1,-1
    }, //q10

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,38,16,-1,38,-1,-1,38,-1,-1
    }, //q11

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,40,40,-1,40,-1,-1,40,-1,-1
    }, //q12

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,21,-1,14,-1,-1,13,-1,-1,-1
    }, //q13

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,42,42,-1,42,-1,-1,42,-1,-1
    }, //q14

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,21,-1,14,-1,-1,13,-1,-1,-1
    }, //q15

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,21,-1,14,-1,-1,13,-1,-1,-1
    }, //q16

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,15,-1,-1,-1,-1,-1,20,-1,-1
    }, //q17

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,37,16,-1,37,-1,-1,37,-1,-1
    }, //q18

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,39,39,-1,39,-1,-1,39,-1,-1
    }, //q19

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,41,41,-1,41,-1,-1,41,-1,-1
    }, //q20

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,21,-1,14,-1,-1,-1,-1,-1,-1
    }, //q21

    /*   0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10  */    
    {
        -1,-1,43,43,-1,43,-1,-1,43,-1,-1
    } //q22

};

/*Parte de acci칩n GOTO de la "Parsing Table"*/
const char GOTO [][7] = 
{
    
    /*  A, B, C, D, E, F, G*/
    {
        1, 2, 3, 4,-1,-1,-1
    }, //q0

    /*  A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q1

    /*   A, B, C, D, E, F, G*/
    {
        6, 2, 3, 4,-1,-1,-1
    }, //q2

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    },//q3
    
    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q4

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q5

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q6

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q7

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,10,11,12
    }, //q8

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q9

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q10

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q11

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q12

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,17,11,12
    }, //q13

    /*  A, B, C, D, E, F, G*/
    {
        1, 2, 3, 4,-1,-1
    }, //q14

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,18,12
    }, //q15

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,19
    }, //q16

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q17

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q18

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q19

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    }, //q20

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,22
    }, //q21

    /*   A, B, C, D, E, F, G*/
    {
        -1,-1,-1,-1,-1,-1,-1
    } //q22
};

/*Longitud del lado derecho para cada regla de producci칩n de nuestra gram치tica*/
const char ruleSize [13] =
{
//  1, 2, 3, 4, 5, 6, 7, 8, 9,10,11,12,13
    2, 1, 2, 1, 3, 2, 3, 1, 3, 1, 3, 1, 2
};

const NONTERMINAL ruleTransform [13] =
{
//  1, 2, 3, 4, 5, 6, 7, 8, 9,10,11,12,13
    A, A, B, C, C, D, E, E, F, F, G, G, G
};


void initialize(Stack *stack)
{
    stack->top = -1; 
}

int isEmpty(Stack *stack)
{
    return stack->top == -1; 
}

int isFull(Stack *stack)
{
    return stack->top == 99; 
}

void push(Stack *stack, int state)
{
    if (isFull(stack)) return; 
    stack->arr[++stack->top] = state;
}

void pop(Stack *stack)
{
    if (isEmpty(stack)) return; 
    stack->top--; 
}

int peek(Stack *stack)
{
    if (isEmpty(stack)) return -1; 
    return stack->arr[stack->top]; 
}


